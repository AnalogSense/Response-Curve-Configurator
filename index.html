<!doctype html>
<html lang="en">
<head>
	<title>Response Curve Configurator | AnalogSense</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
	<style>
		.sim-gauge {
			height: 100px;
		}

		.sim-gauge-fill {
			background: #fff;
		}
	</style>
</head>
<body data-bs-theme="dark">
	<div class="container pt-4">
		<div class="row">
			<div class="col-xl-5">
				<div class="row">
					<div class="col-xl-12 col-md-6">
						<div class="card mb-3">
							<h5 class="card-header">Curve Points</h5>
							<div class="card-body">
								<textarea id="points-json" class="form-control" style="height:112px">[]</textarea>
								<button class="btn btn-primary mt-3" onclick="download('curve_points.json', document.getElementById('points-json').value)">Download curve_points.json</button>
							</div>
						</div>
					</div>
					<div class="col-xl-12 col-md-6">
						<div class="card mb-3">
							<h5 class="card-header">Add Point</h5>
							<div class="card-body">
								<div class="input-group mb-3">
									<span class="input-group-text">X Axis (Input Mapping): </span>
									<input id="add-x" class="form-control" type="number" min="0" max="100" value="20" />
									<span class="input-group-text">%</span>
								</div>
								<div class="input-group mb-3">
									<span class="input-group-text">Y Axis (Output Mapping): </span>
									<input id="add-y" class="form-control" type="number" min="0" max="100" value="80" />
									<span class="input-group-text">%</span>
								</div>
								<button class="btn btn-primary" onclick="addPoint();">Add Point</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xl-2 col-md-6">
				<div class="card mb-3">
					<h5 class="card-header">Visualization</h5>
					<div id="svg-container" class="card-body">
					</div>
				</div>
			</div>
			<div class="col-xl-5 col-md-6">
				<div class="card mb-3">
					<h5 class="card-header">Simulation</h5>
					<div class="card-body" id="sim-start">
						<button class="btn btn-primary" onclick="startSimulation();">Start Simulation</button>
					</div>
					<div class="card-body d-none" id="sim-active">
						<div class="row">
							<div class="col-6">
								<p>Input</p>
								<div class="sim-gauge">
									<div id="sim-in-fill" class="sim-gauge-fill"></div>
								</div>
							</div>
							<div class="col-6">
								<p>Output</p>
								<div class="sim-gauge">
									<div id="sim-out-fill" class="sim-gauge-fill"></div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script src="https://analogsense.org/JavaScript-SDK/AnalogSense.js"></script>
	<script src="soup-ports.js"></script>
	<script src="script.js"></script>
</body>
</html>
